<div class="p-3">
<app-academic-term-filter></app-academic-term-filter>
  <div class="d-flex justify-content-end mt-3">
      <div class="col-1">
        <button (click)="addOrUpdateAcademicTerm(academicTerm)" class="align-content-center" mat-icon-button>
          <mat-icon class="add" matTooltip="Add Academic Term" matTooltipPosition="above">add_circle</mat-icon>
        </button>
      </div>
    </div>
    <div *ngIf="tableData" class="mat-elevation-z8 mt-3 full-width-table">
      <mat-table [dataSource]="dataSource" aria-label="Elements" matSort>
        <!-- Id Column -->
        <ng-container matColumnDef="NO.">
          <mat-header-cell *matHeaderCellDef >No.</mat-header-cell>
          <mat-cell *matCellDef="let row; let i=index">{{i+1}}</mat-cell>
        </ng-container>

        <!-- <ng-container matColumnDef="code">
          <mat-header-cell *matHeaderCellDef mat-sort-header>Code
          </mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.code}}</mat-cell>
        </ng-container> -->
        <ng-container matColumnDef="name">
          <mat-header-cell *matHeaderCellDef mat-sort-header>Name
          </mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.name}}</mat-cell>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="start_date">
          <mat-header-cell *matHeaderCellDef mat-sort-header>Start Date
          </mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.start_date}}</mat-cell>
        </ng-container>


        <ng-container matColumnDef="end_date">
          <mat-header-cell *matHeaderCellDef mat-sort-header>end Date
          </mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.end_date}}</mat-cell>
        </ng-container>
        
        <ng-container matColumnDef="academic_year">
          <mat-header-cell *matHeaderCellDef mat-sort-header>Academic Year
          </mat-header-cell>
          <mat-cell *matCellDef="let row">{{row.academicYearDTO.name}}</mat-cell>
        </ng-container>


        <ng-container matColumnDef="Actions">
          <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
          <mat-cell *matCellDef="let row">
            <div class="options">
              <button (click)="viewAcademicTerm(row)" mat-icon-button>
                <mat-icon class="eye">visibility</mat-icon>
              </button>
              <button (click)="addOrUpdateAcademicTerm(row)" mat-icon-button>
                <mat-icon class="user-edit">edit</mat-icon>
              </button>
              <button (click)="deleteAcademicTerm(row)" mat-icon-button>
                <mat-icon class="user-times">delete</mat-icon>
              </button>
            </div>
          </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
      </mat-table>

      <mat-paginator
                     [pageIndex]="pageIndex - 1"
                     [pageSizeOptions]="[1, 3, 5, 10, 25, 35, 50]"
                     [pageSize]="defaultPageSize"
                     [length]=tableData.length
                     showFirstLastButtons
                     aria-label="Select page">
      </mat-paginator>
    </div>
    <mat-spinner *ngIf="!tableData" class="text-center"></mat-spinner>
  </div>

<mat-menu #menu="matMenu">
    <button mat-menu-item>Preview</button>
    <button mat-menu-item>Edit</button>
    <button mat-menu-item>Delete</button>
  </mat-menu>
